---
applyTo: "*.java"
---

# JavaDoc 编写规范

## 基本要求

- 所有公共类、接口、方法与字段必须编写 JavaDoc，便于他人理解其用途与约束
- 注释应描述业务语义，突出核心职责、输入输出和异常条件，避免赘述实现细节
- 统一使用简体中文，保持表达清晰、专业，结尾不使用中文句号
- 推荐结合 JDK 17 多行文本块结构提升可读性，同时避免重复代码中的已有信息
- 在语义明确的情况下，可以通过 {@code}、{@link} 等标签增强可读性，同步保持格式一致

## 类与接口

- 描述类/接口的主要功能、适用场景与设计意图，必要时注明关键约束与扩展方式
- 实体类需说明业务含义与关系字段；服务或组件类需强调核心职责与调用上下文
- 工具类与辅助类应指明可复用范围以及线程/状态敏感性，以帮助调用方合理使用

## 方法

- 明确说明方法的业务行为与作用范围，必要时补充关键执行步骤或副作用说明
- 每个参数都需用 `@param` 描述其含义、有效值或格式限制
- 用 `@return` 描述返回对象的结构与语义，若方法无返回则无需该标签
- 对可能抛出的异常使用 `@throws` 说明触发条件及调用方需要采取的措施
- 尽量避免只描述实现层内容，强调对外 contract 以提升接口可理解性

## 字段

- 对字段的数据角色、约束条件、取值范围或关联关系进行说明
- 枚举、状态码等字段需列出潜在取值或对应含义
- 关联字段应说明依赖实体、外键关系或延迟加载策略
- 对于带默认值的字段，注明该值的业务意义及变化场景

## 标签策略

- 核心标签：`@param`、`@return`、`@throws` / `@exception`、`@see`、`@since`（可选）、`@author`（可选）、`@version`（可选）
- 补充标签：`@deprecated`（提供替代方案）、`@apiNote`（使用建议与注意事项）、`@implNote`（实现细节）、`@implSpec`（实现规范）
- 使用标签时避免重复内容，优先突出业务语义与调用者关注点

## 质量与维护

- 避免注释内容与实际代码逻辑不一致，定期复审重点模块的注释
- 对变更频繁的 API，保持注释同步更新并补充版本变更信息
- 通过代码审查确认新增注释是否体现业务语义且避免无意义重复
- 对于公共 API 尤其注重覆盖关键参数、返回结构与异常情况，以提升可用性

## 强制 Markdown 文档注释（JEP 467）

- 所有支持的模块必须使用 `///` 单行 Markdown 注释替代传统的 `/** ... */` 结构，唯有构建工具或 IDE 不支持时才可例外
- 使用 Markdown 语法（标题、列表、段落）描述职责、参数及返回值，保持结构清晰且兼容 Javadoc 标签
- `@param`、`@return`、`@throws` 等标签仍需使用，写在 `///` 行尾并与 Markdown 结构对齐
- 注释内容不得含裸 `<`、`>` 或未经转义的特殊字符，必要时以 {@code} 或 HTML 实体方式表达
- 应定期运行文档生成工具（如 javadoc、MapStruct 处理器）验证 Markdown 注释可以正确解析
